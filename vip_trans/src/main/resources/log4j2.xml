<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="WARN">
<Appenders>
    <Console name="Console" target="SYSTEM_OUT">
        <ThresholdFilter level="INFO" onMatch="ACCEPT" onMismatch="DENY"/>
        <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%t] [%X{requestId}] [%X{ip}] [%X{uid}] [%X{uri}] %l - %m%n"/>
    </Console>
    <RollingFile name="stdout" fileName="logs/log" filePattern = "logs/log_%d{yyyy-MM-dd}-%i.log">
        <ThresholdFilter level="INFO" onMatch="ACCEPT" onMismatch="DENY"/>
        <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%t] [%X{requestId}] [%X{ip}] [%X{uid}] [%X{uri}] %l - %m%n"/>
        <Policies>
            <TimeBasedTriggeringPolicy />
            <SizeBasedTriggeringPolicy size="500 MB"/>
        </Policies>
    </RollingFile>
    <RollingFile name="stderr" fileName="logs/error" filePattern = "logs/error_%d{yyyy-MM-dd}-%i.log">
        <ThresholdFilter level="ERROR" onMatch="ACCEPT" onMismatch="DENY"/>
        <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%t] [%X{requestId}] [%X{ip}] [%X{uid}] [%X{uri}] %l - %m%n"/>
        <Policies>
            <TimeBasedTriggeringPolicy />
            <SizeBasedTriggeringPolicy size="500 MB"/>
        </Policies>
    </RollingFile>
</Appenders>

<Loggers>
    <Root level="INFO" includeLocation="true">
        <AppenderRef ref="stdout"/>
        <AppenderRef ref="stderr"/>
    </Root>

    <!--&lt;!&ndash;采用异步输出日志&ndash;&gt;-->
    <!--<AsyncLogger name="com" level="info">-->
        <!--&lt;!&ndash;写入info级别&ndash;&gt;-->
        <!--<AppenderRef ref="stdout"/>-->
        <!--&lt;!&ndash;写入error级别&ndash;&gt;-->
        <!--<AppenderRef ref="stderr" level="error"/>-->
    <!--</AsyncLogger>-->
    <!--<Root level="INFO">-->
        <!--<AppenderRef ref="stdout"/>-->
        <!--&lt;!&ndash;<AppenderRef ref="Console"/>&ndash;&gt;-->
    <!--</Root>-->
</Loggers>
</Configuration>